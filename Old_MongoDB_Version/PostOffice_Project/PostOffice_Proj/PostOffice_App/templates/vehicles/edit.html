{% extends 'base.html' %}
{% block title %}Edit Vehicle — Mailly{% endblock %}

{% block content %}
<div class="card" style="max-width:500px">
  <h3>Edit Vehicle</h3>

  <form method="POST" style="margin-top:12px">
    {% csrf_token %}

    <label>Vehicle Type</label>
    <input type="text" name="vehicle_type" value="{{ vehicle.vehicle_type }}" class="form-control" />

    <label>Plate Number</label>
    <input type="text" name="plate_number" value="{{ vehicle.plate_number }}" class="form-control" />

    <label>Model</label>
    <input type="text" name="model" value="{{ vehicle.model }}" class="form-control" />

    <label>Brand</label>
    <input type="text" name="brand" value="{{ vehicle.brand }}" class="form-control" />

    <label>Capacity (kg)</label>
    <input type="number" step="0.01" name="capacity" value="{{ vehicle.capacity }}" class="form-control" />

    <label>Status</label>
    <input type="text" name="vehicle_status" value="{{ vehicle.vehicle_status }}" class="form-control" />

    <label>Year</label>
    <input type="number" name="year" value="{{ vehicle.year }}" class="form-control" />

    <label>Fuel Type</label>
    <input type="text" name="fuel_type" value="{{ vehicle.fuel_type }}" class="form-control" />

    <label>Last Maintenance Date</label>
    <input type="date" name="last_maintenance_date" value="{{ vehicle.last_maintenance_date }}" class="form-control" />

    <!-- DRIVER DROPDOWN -->
    <label style="margin-top:12px;">Assigned Driver</label>
    <select name="driver_id" class="form-control">
      <option value="">— No Driver —</option>

      {% for d in drivers %}
        <option value="{{ d.id }}"
          {% if vehicle.driver_id and vehicle.driver_id|stringformat:"s" == d.id %}selected{% endif %}>
          {{ d.name }} ({{ d.username }})
        </option>
      {% endfor %}
    </select>

    <button type="submit" class="btn btn-primary" style="margin-top:10px;">Save Changes</button>
    <a href="{% url 'vehicles_list' %}" class="btn btn-secondary" style="margin-top:10px;">Back</a>
  </form>
</div>
{% endblock %}
